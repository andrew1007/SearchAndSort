import React from 'react';

export default class MergeSort extends React.Component {
  constructor(props){
    super(props);

    this.state = {
      count: 0,
      0: [["-----[3, 2, 4, 6, 8, 5, 1, 7]-----"], ["-"]],
      1: [["-----[3, 2, 4, 6, 8, 5, 1, 7]-----"], ["--[3, 2, 4, 6]-----[8, 5, 1, 7]--"]],
      2: [["---[3, 2, 4, 6]-----[8, 5, 1, 7]---"], ["-"]],
      3: [["---[3, 2, 4, 6]-----[8, 5, 1, 7]---"], ["--[3, 2]--[4, 6]--[8, 5]--[1, 7]--"]],
      4: [["--[3, 2]--[4, 6]--[8, 5]--[1, 7]--"], ["-"]],
      5: [["--[3, 2]--[4, 6]--[8, 5]--[1, 7]--"], ["-[3]-[2]-[4]-[6]-[8]-[5]-[1]-[7]-"]],
      6: [["-"], ["-[3]-[2]-[4]-[6]-[8]-[5]-[1]-[7]-"]],
      7: [["-[2]"], ["-[3]-__-[4]-[6]-[8]-[5]-[1]-[7]"]],
      8: [["-[2, 3]"], ["-__-__-[4]-[6]-[8]-[5]-[1]-[7]"]],
      9: [["-[2, 3]-[4]"], ["-__-__-__-[6]-[8]-[5]-[1]-[7]"]],
      10: [["-[2, 3]-[4, 6]"], ["-__-__-__-__-[8]-[5]-[1]-[7]"]],
      11: [["-[2, 3]-[4, 6]-[5]"], ["-__-__-__-__-[8]-__-[1]-[7]"]],
      12: [["-[2, 3]-[4, 6]-[5, 8]"], ["-__-__-__-__-__-__-[1]-[7]"]],
      13: [["-[2, 3]-[4, 6]-[5, 8]-[1]"], ["-__-__-__-__-__-__-__-[7]"]],
      14: [["-[2, 3]-[4, 6]-[5, 8]-[1, 7]"], ["-"]],
      15: [["-"], ["-[2, 3]-[4, 6]-[5, 8]-[1, 7]"]],
      16: [["-[2]"], ["-__-[3]-[4, 6]-[5, 8]-[1, 7]"]],
      17: [["-[2, 3]"], ["-__-__-[4, 6]-[5, 8]-[1, 7]"]],
      18: [["-[2, 3, 4]"], ["-__-__-__-[6]-[5, 8]-[1, 7]"]],
      19: [["-[2, 3, 4, 6]"], ["-__-__-__-__-[5, 8]-[1, 7]"]],
      20: [["-[2, 3, 4, 6]-[1]"], ["-__-__-__-__-[5, 8]-__-[7]"]],
      21: [["-[2, 3, 4, 6]-[1, 5]"], ["-__-__-__-__-__-[8]-__-[7]"]],
      22: [["-[2, 3, 4, 6]-[1, 5, 7]"], ["-__-__-__-__-__-[8]-__-__-"]],
      23: [["-[2, 3, 4, 6]-[1, 5, 7, 8]"], ["-"]],
      24: [["-"], ["-[2, 3, 4, 6]-[1, 5, 7, 8]"]],
      25: [["-[1]"], ["-[2, 3, 4, 6]-__-[5, 7, 8]"]],
      26: [["-[1, 2]"], ["-__-[3, 4, 6]-__-[5, 7, 8]"]],
      27: [["-[1, 2, 3]"], ["-__-__-[4, 6]-__-[5, 7, 8]"]],
      28: [["-[1, 2, 3, 4]"], ["-__-__-__-[6]-__-[5, 7, 8]"]],
      29: [["-[1, 2, 3, 4, 5]"], ["-__-__-__-[6]-__-__-[7, 8]"]],
      30: [["-[1, 2, 3, 4, 5, 6]"], ["-__-__-__-__-__-__-[7, 8]"]],
      31: [["-[1, 2, 3, 4, 5, 6, 7]"], ["-__-__-__-__-__-__-__-[8]"]],
      32: [["-[1, 2, 3, 4, 5, 6, 7, 8]"], ["-"]],
    };

    this.start = this.start.bind(this);
    this.renderNext = this.renderNext.bind(this);
  }

  start() {
    this.interval = setInterval( () => {
      this.renderNext();
    }, 1000);
  }

  renderNext() {
    let nextCount = this.state.count += 1;
    if (nextCount >= 33) {
      clearInterval(this.interval);
    } else {
      this.setState({
        count: nextCount
      });
    }
  }

  render() {
    return (
      <div>
        <button onClick={this.start}>Start</button>
        <div>{this.state[this.state.count][0]}</div>
        <div>{this.state[this.state.count][1]}</div>
      </div>
    );
  }
}
